#VRML_SIM R2022b utf8

EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2022b/projects/objects/backgrounds/protos/TexturedBackground.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2022b/projects/objects/backgrounds/protos/TexturedBackgroundLight.proto"
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2022b/projects/objects/floors/protos/CircleArena.proto"

WorldInfo {
    
}
Viewpoint {
    orientation -0.33185733874619844 -0.09874274160469809 0.9381474178937331 3.686018050088086
    position 1.700313773507203 1.0549607538959629 1.4846240848267684
    follow "none"
}
TexturedBackground {
    
}
TexturedBackgroundLight {
    
}
CircleArena {
radius 10
subdivision 1
floorTileSize 5 5
}

Robot {
    translation 0 0 0.5
    children [
        # HingeJoint {
        #       jointParameters HingeJointParameters {
        #         axis 0 1 0
        #         anchor 0 0 0.025
        #       }
        #       device [
        #         RotationalMotor { maxTorque 100
        #           name "left wheel motor"
        #         }
        #       ]
        #       endPoint Solid {
        #         translation 0 0.5 0.19
        #         children [
        #           USE WHEEL
        #         ]
        #         name "left wheel"
        #         boundingObject USE WHEEL
        #         physics Physics {
        #         }
        #       }
        #     }
        # HingeJoint {
        #   jointParameters HingeJointParameters {
        #     axis 0 1 0
        #     anchor 0 0 0.025
        #   }
        #   device [
        #     RotationalMotor { maxTorque 100
        #       name "right wheel motor"
        #     }
        #   ]
        #   endPoint Solid {
        #     translation 0 -0.045 0.025
        #     children [
        #       USE WHEEL
        #     ]
        #     name "right wheel"
        #     boundingObject USE WHEEL
        #     physics Physics {
        #     }
        #   }
        # }
        Transform {
            translation 0 0 0.5
            children [
                Shape {
                    appearance PBRAppearance {
                        baseColor 0 0 1
                        roughness 1
                        metalness 0
                    }
                    geometry DEF BODY Box {
                        size 1.2 0.7 0.2
                    }
                }
            ]
        }
        SliderJoint {
            jointParameters DEF SJP JointParameters {
                axis 0 0 1
                minStop -0.35
                maxStop 0.505
                springConstant 800
                dampingConstant 10
            }
            endPoint Solid {
                translation 0.5 0.5 0.2
                children [
                    DEF LHJ HingeJoint {
                        jointParameters DEF HJP HingeJointParameters {
                            axis 0 1 0
                            anchor 0 0 0
                        }
                        device [
                          RotationalMotor { maxTorque 100
                            name "fl motor"
                          }
                        ]
                        endPoint Solid {
                          
                            children[DEF WHEEL Transform {
                                rotation 1 0 0 1.5707996938995747
                                children [
                                    Shape {
                                        appearance PBRAppearance {
                                            baseColor 1 0 0
                                            roughness 1
                                            metalness 0
                                        }
                                        geometry Cylinder {
                                            height 0.15
                                            radius 0.19
                                        }
                                    }
                                ]
                            }]
                        boundingObject USE WHEEL
                        physics DEF WF Physics {
                    mass 5
                    density -1
                }}
                    }
                ]
                name "fl_wheel"
                # boundingObject USE WHEEL
                physics USE WF
            }
        }
        SliderJoint {
            jointParameters USE SJP
            endPoint Solid {
                translation 0 0.5 0.2
                children [HingeJoint {
                        jointParameters USE HJP
                        device [
                          RotationalMotor { maxTorque 100
                            name "ml motor"
                          }
                        ]
                        endPoint Solid {children[USE WHEEL] boundingObject USE WHEEL
                physics USE WF}
                    }]
                name "ml_wheel"
                physics USE WF
            }
        }
        SliderJoint {
            jointParameters USE SJP
            endPoint Solid {
                translation -0.5 0.5 0.2
                children [HingeJoint {
                        jointParameters USE HJP
                        device [
                          RotationalMotor { maxTorque 100
                            name "bl motor"
                          }
                        ]
                        endPoint Solid {children[USE WHEEL]boundingObject USE WHEEL
                physics USE WF}
                    }]
                name "bl_wheel"
                # boundingObject USE WHEEL
                physics USE WF
            }
        }
        SliderJoint {
            jointParameters USE SJP
            endPoint Solid {
                translation 0.5 -0.5 0.2
                children [
                    DEF RHJ HingeJoint {
                        jointParameters USE HJP
                        device [
                          RotationalMotor { maxTorque 100
                            name "fr motor"
                          }
                        ]
                        endPoint Solid {children[USE WHEEL] boundingObject USE WHEEL
                physics USE WF}
                    }
                ]
                name "fr_wheel"
                # boundingObject USE WHEEL
                physics USE WF
            }
        }
        SliderJoint {
            jointParameters USE SJP
            endPoint Solid {
                translation 0 -0.5 0.2
                children [
                    HingeJoint {
                        jointParameters USE HJP
                        device [
                          RotationalMotor { maxTorque 100
                            name "mr motor"
                          }
                        ]
                        endPoint Solid {children[USE WHEEL] boundingObject USE WHEEL
                physics USE WF}
                    }
                ]
                name "mr_wheel"
                # boundingObject USE WHEEL
                physics USE WF
            }
        }
        SliderJoint {
            jointParameters USE SJP
            endPoint Solid {
                translation -0.5 -0.5 0.2
                children [
                    HingeJoint {
                        jointParameters USE HJP
                        device [
                          RotationalMotor { maxTorque 100
                            name "br motor"
                          }
                        ]
                        endPoint Solid {children[USE WHEEL] boundingObject USE WHEEL
                physics USE WF}
                    }
                ]
                name "br_wheel"
                # boundingObject USE WHEEL
                physics USE WF
            }
        }
        # DistanceSensor {
        #   translation 0.042 0.02 0.063
        #   rotation 0 0 1 0.5236003061004253
        #   children [
        #     DEF SENSOR Transform {
        #       rotation 0 1 0 1.5708
        #       children [
        #         Shape {
        #           appearance PBRAppearance {
        #             baseColor 1 1 0
        #             roughness 1
        #             metalness 0
        #           }
        #           geometry Cylinder {
        #             height 0.004
        #             radius 0.008
        #           }
        #         }
        #       ]
        #     }
        #   ]
        #   name "ds0"
        #   lookupTable [
        #     0 1020 0
        #     0.05 1020 0
        #     0.15 0 0
        #   ]
        #   numberOfRays 2
        #   aperture 1
        # }
        # DistanceSensor {
        #   translation 0.042 -0.02 0.063
        #   rotation 0 0 1 -0.5235996938995747
        #   children [
        #     USE SENSOR
        #   ]
        #   name "ds1"
        #   lookupTable [
        #     0 1020 0
        #     0.05 1020 0
        #     0.15 0 0
        #   ]
        #   numberOfRays 2
        #   aperture 1
        # }
    ]
    boundingObject Transform {
        translation 0 0 0.5
        children [
            USE BODY
        ]
    }
    physics Physics {
        mass 40
        density -1
    }
    controller "<extern>"
    name "my_robot"
}
